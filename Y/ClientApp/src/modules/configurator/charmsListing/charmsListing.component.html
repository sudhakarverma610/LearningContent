<div class="example-list" cdkDropListGroup  (clickOutside)=" isSelectedIndex = -1">
  <div fxLayout="row" fxLayoutAlign="space-between start">
    <div class="title">Charms selection</div>
    <div class="scroll" fxLayout="row" fxLayoutAlign="start start">
      <!-- <img class="back" src="https://files.y.jewelry/assets/img/icons/back.svg" (click)="back()" />
      <img class="forward" src="https://files.y.jewelry/assets/img/icons/back.svg" (click)="forward()" /> -->
    </div>
  </div>
  <div class="tab-Heretext" *ngIf="products.length===0" (click)="OpenCharmsSelection()"> tap here <br> to select charms </div>
    
  <div cdkDropListGroup class="charmCurator w1000">
    <ng-container *ngFor="let product of products;let Index=index">
      <div cdkDropList cdkDropListOrientation="horizontal" 
      [cdkDropListData]="{item:product,index:Index}"
        (cdkDropListDropped)="dropList($event)">
        <div class="example-box" cdkDrag>
          <div class="listItem" fxLayout="column" fxLayoutAlign="start center"
          (mouseenter)="removeActive = true; removeIndex = Index" 
          (mouseleave)="removeActive = false; removeIndex = 55" 
            (click)="isSelectedIndex=Index;"
            >  
              <div class="delete-arrow {{(Index === isSelectedIndex)?'none':'display-none'}}" > 
                <svg (click)="removeItem(Index)"  xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
                  <circle cx="8.5" cy="8.5" r="8.5" fill="#090954"></circle>
                  <path d="M9.34161 8.509L11.7955 6.0653C12.0292 5.83257 12.0292 5.3671 11.9124 5.13437C11.7955 4.90164 11.2112 5.018 10.9775 5.13437L8.52365 7.69443L6.06975 5.13437C5.83604 5.018 5.36863 5.018 5.13493 5.13437C4.90122 5.25074 5.01808 5.83257 5.13493 6.0653L7.70568 8.509L5.13493 10.9527C5.01808 11.1854 5.01808 11.6509 5.13493 11.8836C5.25178 12 5.48549 12 5.60234 12C5.71919 12 5.9529 12 6.06975 11.8836L8.52365 9.32357L10.9775 11.7673C11.0944 12 11.3281 12 11.445 12C11.5618 12 11.7955 12 11.9124 11.8836C12.0292 11.6509 12.0292 11.1854 11.9124 10.9527L9.34161 8.509Z" fill="white"></path>
                  </svg>
             </div>
              <div  class="charmImage">
                <img loading="lazy" class="list-img {{Index === isSelectedIndex?'border1dartBlue':'border1skyBlue'}}"   [src]="product.images[0].src" width="69" height="69">
              </div>
              <img class="cursorPointer removeButton" fxHide  (click)="removeItem(Index)"
                *ngIf="Index === removeIndex && removeActive" src="https://files.y.jewelry/assets/img/configurator/remove.svg"
                width="30" height="30" alt="remove" />
              <div [routerLink]="['/', product.category_sename, product.se_name]"   
              style="position: absolute;bottom: -14px;" 
                *ngIf="(Index === isSelectedIndex)">
                  <svg xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 17 17" fill="none">
                  <path d="M8.28001 15.5699C12.1847 15.5699 15.35 12.4046 15.35 8.49993C15.35 4.59528 12.1847 1.42993 8.28001 1.42993C4.37535 1.42993 1.21001 4.59528 1.21001 8.49993C1.21001 12.4046 4.37535 15.5699 8.28001 15.5699Z" fill="white"></path>
                  <path d="M8.5 0C6.81886 0 5.17547 0.498516 3.77766 1.43251C2.37984 2.3665 1.29037 3.69402 0.647028 5.24719C0.00368291 6.80036 -0.164645 8.50943 0.163329 10.1583C0.491303 11.8071 1.30085 13.3217 2.4896 14.5104C3.67834 15.6992 5.1929 16.5087 6.84174 16.8367C8.49057 17.1646 10.1996 16.9963 11.7528 16.353C13.306 15.7096 14.6335 14.6202 15.5675 13.2223C16.5015 11.8245 17 10.1811 17 8.5C16.9974 6.24647 16.101 4.086 14.5075 2.49252C12.914 0.899029 10.7535 0.00264654 8.5 0ZM10 11.78L9.21 12.08C8.98973 12.1477 8.76043 12.1814 8.53 12.18C8.19506 12.1996 7.86444 12.0965 7.6 11.89C7.49641 11.7965 7.41353 11.6824 7.3567 11.5549C7.29986 11.4275 7.27033 11.2895 7.27 11.15C7.27 11.03 7.27 10.91 7.27 10.79C7.27 10.67 7.32 10.53 7.35 10.38L7.77 8.92L7.86 8.53C7.86811 8.41681 7.86811 8.30319 7.86 8.19C7.86855 8.12021 7.86228 8.0494 7.8416 7.9822C7.82092 7.915 7.7863 7.85292 7.74 7.8C7.61058 7.7133 7.455 7.6744 7.3 7.69C7.19044 7.6762 7.07957 7.6762 6.97 7.69L6.69 7.78L6.8 7.34C7.0512 7.23227 7.30828 7.13878 7.57 7.06C7.82464 6.99541 8.08849 6.97511 8.35 7C8.67761 6.97688 9.00206 7.07671 9.26 7.28C9.35932 7.37209 9.4389 7.48339 9.4939 7.60716C9.54891 7.73092 9.5782 7.86457 9.58 8C9.58733 8.10988 9.58733 8.22012 9.58 8.33C9.57066 8.47929 9.54381 8.62697 9.5 8.77L9.09 10.22C9.09 10.34 9.03 10.47 9 10.62C8.98909 10.7331 8.98909 10.8469 9 10.96C8.99071 11.0306 8.99758 11.1024 9.0201 11.17C9.04262 11.2375 9.0802 11.2991 9.13 11.35C9.26437 11.4339 9.4221 11.4724 9.58 11.46C9.69251 11.4578 9.80393 11.4376 9.91 11.4C10.0064 11.3806 10.1003 11.3504 10.19 11.31L10 11.78ZM10 5.89C9.81306 6.06503 9.56609 6.16167 9.31 6.16C9.05047 6.16426 8.79945 6.06744 8.61 5.89C8.51962 5.81008 8.44775 5.71142 8.39939 5.60089C8.35104 5.49036 8.32736 5.37062 8.33 5.25C8.32789 5.12799 8.35176 5.00693 8.40004 4.89486C8.44832 4.78279 8.51989 4.68228 8.61 4.6C8.79945 4.42256 9.05047 4.32574 9.31 4.33C9.56609 4.32833 9.81306 4.42497 10 4.6C10.0901 4.68228 10.1617 4.78279 10.21 4.89486C10.2582 5.00693 10.2821 5.12799 10.28 5.25C10.2827 5.37062 10.259 5.49036 10.2106 5.60089C10.1623 5.71142 10.0904 5.81008 10 5.89Z" fill="#090954"></path>
                  </svg>
              </div>
              <div class="forward-backword" *ngIf="!(Index === isSelectedIndex)">
                <svg xmlns="http://www.w3.org/2000/svg" width="9" height="10" viewBox="0 0 9 10" fill="none">
                <path d="M2.1 5.90009C2.2 6.00009 2.4 6.00009 2.5 6.00009C2.6 6.00009 2.8 6.00009 2.9 5.90009C3 5.70009 3 5.30009 2.8 5.10009L1.7 4.00009H7.5C7.8 4.00009 8 3.80009 8 3.50009C8 3.20009 7.8 3.00009 7.5 3.00009H1.7L2.8 1.90009C3 1.70009 3 1.30009 2.8 1.10009C2.6 0.900089 2.3 1.00009 2.1 1.10009L0.1 3.10009C0.1 3.20009 0 3.30009 0 3.40009C0 3.40009 0 3.40009 0 3.50009C0 3.60009 0 3.70009 0 3.80009C0 3.90009 0.1 3.90009 0.1 4.00009L2.1 5.90009Z" fill="white"></path>
                <path d="M9 7.60009C9 7.50009 9 7.40009 9 7.30009C9 7.20009 8.9 7.20009 8.9 7.10009L6.9 5.10009C6.7 5.00009 6.3 5.00009 6.1 5.10009C5.9 5.20009 5.9 5.60009 6.1 5.80009L7.3 7.00009H1.5C1.2 7.00009 1 7.20009 1 7.50009C1 7.80009 1.2 8.00009 1.5 8.00009H7.3L6.1 9.10009C5.9 9.30009 5.9 9.60009 6.1 9.80009C6.2 10.0001 6.4 10.0001 6.5 10.0001C6.6 10.0001 6.8 10.0001 6.9 9.90009L8.9 7.90009C8.9 7.80009 8.9 7.70009 9 7.60009Z" fill="white"></path>
                </svg>
              </div>
                
          </div>
        </div>
      </div>
    </ng-container> 
    <ng-container *ngIf="products.length%4===0;else elseBlock">      
      <div class="minapply"></div>
      <div>
        <div class="example-box">
          <div class="listItem" fxLayout="column" fxLayoutAlign="center center">
            <div>
              <svg class="cursorPointer" (click)="OpenCharmsSelection()" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                <path d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#FDF4F1"/>
                <path d="M15 1.5C22.5 1.5 28.5 7.5 28.5 15C28.5 22.5 22.5 28.5 15 28.5C7.5 28.5 1.5 22.5 1.5 15C1.5 7.5 7.5 1.5 15 1.5ZM15 0C6.75 0 0 6.75 0 15C0 23.25 6.75 30 15 30C23.25 30 30 23.25 30 15C30 6.75 23.25 0 15 0Z" fill="#BBD1EA"/>
                <path d="M19.5 14.25H15.75V10.5C15.75 10.05 15.45 9.75 15 9.75C14.55 9.75 14.25 10.05 14.25 10.5V14.25H10.5C10.05 14.25 9.75 14.55 9.75 15C9.75 15.45 10.05 15.75 10.5 15.75H14.25V19.5C14.25 19.95 14.55 20.25 15 20.25C15.45 20.25 15.75 19.95 15.75 19.5V15.75H19.5C19.95 15.75 20.25 15.45 20.25 15C20.25 14.55 19.95 14.25 19.5 14.25Z" fill="#090954"/>
                </svg> 
            </div>
          </div>
        </div> 
      </div> 
      <div class="minapply"></div>
    </ng-container>
    <ng-template #elseBlock>
      <div>
        <div class="example-box">
          <div class="listItem" fxLayout="column" fxLayoutAlign="center center">
            <div>
              <svg class="cursorPointer" (click)="OpenCharmsSelection()" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" fill="none">
                <path d="M15 30C23.2843 30 30 23.2843 30 15C30 6.71573 23.2843 0 15 0C6.71573 0 0 6.71573 0 15C0 23.2843 6.71573 30 15 30Z" fill="#FDF4F1"/>
                <path d="M15 1.5C22.5 1.5 28.5 7.5 28.5 15C28.5 22.5 22.5 28.5 15 28.5C7.5 28.5 1.5 22.5 1.5 15C1.5 7.5 7.5 1.5 15 1.5ZM15 0C6.75 0 0 6.75 0 15C0 23.25 6.75 30 15 30C23.25 30 30 23.25 30 15C30 6.75 23.25 0 15 0Z" fill="#BBD1EA"/>
                <path d="M19.5 14.25H15.75V10.5C15.75 10.05 15.45 9.75 15 9.75C14.55 9.75 14.25 10.05 14.25 10.5V14.25H10.5C10.05 14.25 9.75 14.55 9.75 15C9.75 15.45 10.05 15.75 10.5 15.75H14.25V19.5C14.25 19.95 14.55 20.25 15 20.25C15.45 20.25 15.75 19.95 15.75 19.5V15.75H19.5C19.95 15.75 20.25 15.45 20.25 15C20.25 14.55 19.95 14.25 19.5 14.25Z" fill="#090954"/>
                </svg> 
            </div>
          </div>
        </div> 
      </div> 
    </ng-template>
  </div>
</div>
